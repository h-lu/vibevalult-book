---
title: "第十章：对抗“匿名”：在数字世界中建立身份"
---

> "认识你自己。" - 德尔斐神谕

欢迎来到第十章，这是我们从一个简单的命令行工具迈向一个真正的、现代化的全栈应用的关键一步。在这一章，我们将直面一个所有真实世界应用都无法回避的根本问题：**身份与信任**。

## 本章危机

到目前为止，我们的VibeVault是一个完全开放和匿名的世界。任何人都可以访问所有API，可以随意查看、创建、修改甚至删除任何播放列表。这就像一个没有门、没有墙、没有锁的房子，虽然功能齐全，却毫无安全感可言。我们的用户无法拥有真正属于自己的数字空间，他们的心血和Vibe随时可能被他人践踏。这个混乱的“匿名”世界，是我们必须要解决的危机。

## 本章顿悟

要战胜“匿名”，我们必须在数字世界中建立起“身份”的概念。这意味着我们需要一套系统，来可靠地回答两个核心问题：

1.  **认证 (Authentication): 你是谁？** —— 验证用户的身份，确保他们是他们所声称的那个人。
2.  **授权 (Authorization): 你能做什么？** —— 在用户通过认证后，判断他们拥有哪些权限，可以访问哪些资源，执行哪些操作。

在本章中，我们将通过学习和实践，获得深刻的顿悟：安全不是一个可有可无的“附加功能”，而是构建可信、可靠、可扩展系统的**基石**。我们将通过集成现代化的、基于**JWT (JSON Web Token)** 的无状态认证方案，亲手为VibeVault构建起坚固的数字身份城墙。

## 本章学习路径

*   **[10.1 为何需要认证与授权？](01-why-security.qmd)**: 我们将从第一性原理出发，深入探讨认证与授权的本质区别与联系。
*   **[10.2 为何选择JWT？无状态的认证](02-why-jwt.qmd)**: 我们将对比传统的Session认证与现代的JWT方案，理解为何无状态对于可扩展系统至关重要。
*   **[10.3 第一道防线：默认安全与密码哈希](03-first-defense.qmd)**: 我们将引入Spring Security，理解其“默认安全”理念，并学习如何安全地存储用户密码。
*   **[10.4 敞开大门：构建认证API与测试](04-opening-gates.qmd)**: 我们将构建用户注册和登录的API，并引入集成测试作为验证其功能的基石。
*   **[10.5 数字护照办公室：签发JWT](05-digital-passport.qmd)**: 我们将建立一个“护照办公室”，专门负责在用户认证成功后，为他们签发JWT。
*   **[10.6 城门的哨兵：验证JWT](06-gatekeeper.qmd)**: 我们将创建一个“哨兵”过滤器来检查每个请求的JWT，从而保护我们的端点。
*   **[10.7 外交豁免通道：处理CORS](07-cors.qmd)**: 我们将深入理解并解决在前后端分离架构中常见的跨域（CORS）问题。
*   **[10.8 所有权的“地基危机”：一次必要的模型重构](08-refactoring.qmd)**: 我们将直面并解决一个隐藏的数据库设计问题，为实现真正的授权打下坚实基础。
*   **[10.9 谁动了我的播放列表？声明式授权](09-authorization.qmd)**: 我们将使用`@PreAuthorize`这一强大武器，以声明式的方式实现精细化的访问控制。
*   **[10.10 旅程终点：总结与安全最佳实践](10-summary.qmd)**: 我们将回顾整个安全之旅，巩固工程师蓝图，并展望更广阔的安全领域。

准备好进入一个更有序、更安全、真正属于每个用户的VibeVault世界吧！
 